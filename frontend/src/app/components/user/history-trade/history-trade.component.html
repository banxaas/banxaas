<div
  class="text-title uppercase font-bold text-center underline sm:mt-[40%] sm:mt-[20%] lg:mt-[5%]"
>
  liste des transactions
</div>
<div
  class="flex w-full mt-5 justify-center items-center bg-white-700 mb-5 px-5"
>
  <div class="w-[90%] flex flex-col shadow-lg content-table-offer-tablet">
    <p-table
      #dt
      [value]="transactions"
      styleClass="p-datatable-transactions"
      [rowHover]="true"
      [rows]="10"
      [showCurrentPageReport]="true"
      [rowsPerPageOptions]="[10, 25, 50]"
      [loading]="loading"
      [paginator]="false"
      currentPageReportTemplate="Voir {first} à {last} {totalRecords} entries"
      [filterDelay]="0"
    >
      <ng-template pTemplate="header">
        <tr>
          <th>
            <b>Annonciateur</b>
          </th>
          <th>
            <b>Trader</b>
          </th>
          <th>
            <b>Quantité(min-max)</b>
          </th>
          <th>
            <b>Montant(min-max)</b>
          </th>
          <th>
            <b>Marge</b>
          </th>
          <th>
            <b>Sens</b>
          </th>
          <th>
            <b>Méthode paiement</b>
          </th>
          <th>
            <b>Date</b>
          </th>
        </tr>
      </ng-template>

      <ng-template pTemplate="body" let-transaction>
        <tr class="p-selectable-row">
          <td>
            <span class="p-column-title">Annonciateur</span>
            <span *ngIf="transaction.ad.user.pseudo != pseudo" class="text-center">
              {{ transaction.ad.user.pseudo }}
            </span>
            <span *ngIf="transaction.ad.user.pseudo == pseudo" class="text-center">
              Moi
            </span>
          </td>
          <td>
            <span class="p-column-title">Trader</span>
            <span *ngIf="transaction.trader.pseudo != pseudo" class="text-center">
              {{ transaction.trader.pseudo }}
            </span>
            <span *ngIf="transaction.trader.pseudo == pseudo" class="text-center">
              Moi
            </span>
          </td>
          <td>
            <span class="p-column-title">quantite</span>
            <span *ngIf="transaction.ad.quantityType == 'R'" class="text-center"
              >{{ transaction.ad.quantityMin }}-{{ transaction.ad.quantityMax }}</span
            >
            <span *ngIf="transaction.ad.quantityType == 'F'" class="text-center">{{
              transaction.ad.quantityFixe
            }}</span>
          </td>
          <td>
            <span class="p-column-title">Montant</span>
            <span *ngIf="transaction.ad.amountType == 'R'" class="image-text"
              >{{ transaction.ad.amountMin }}-{{ transaction.ad.amountMax }}</span
            >
            <span *ngIf="transaction.ad.amountType == 'F'" class="image-text">{{
              transaction.ad.amountFixe
            }}</span>
          </td>
          <td>
            <span class="p-column-title">Marge</span>
            {{ transaction.ad.marge }}%
          </td>
          <td>
            <span class="p-column-title">Sens</span>
            <span
              *ngIf="transaction.ad.sens == 'A'"
              [class]="'transaction-badge status-' + transaction.ad.sens"
              >Achat</span>
            <span
              *ngIf="transaction.ad.sens == 'V'"
              [class]="'transaction-badge status-' + transaction.ad.sens"
              >Vente</span
            >
          </td>
          <td>
            <span class="p-column-title">Méthode de paiement</span>
            <span *ngIf="transaction.ad.provider == 'OM'">Orange Money</span>
            <span *ngIf="transaction.ad.provider == 'FREE'">Free Money</span>
            <span *ngIf="transaction.ad.provider == 'WAVE'">Wave</span>
          </td>
          <td>
            <span class="p-column-title">Date</span>
            {{ transaction.startingDate }}
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="8">Vous avez aucune transaction à votre actif.</td>
        </tr>
      </ng-template>
    </p-table>

    <div class="p-mb-3 flex justify-center">
      <p-button
        *ngIf="disableButtonPrev === false"
        type="button"
        icon="pi pi-chevron-left"
        (click)="prev()"
        styleClass="p-button-text"
      ></p-button>
      <p-button
        type="button"
        icon="pi pi-refresh"
        (click)="reset()"
        styleClass="p-button-text"
      ></p-button>
      <p-button
        *ngIf="disableButtonNext === false"
        type="button"
        icon="pi pi-chevron-right"
        (click)="next()"
        styleClass="p-button-text"
      ></p-button>
    </div>
  </div>
</div>
<p-toast
  position="top-right"
  [hideTransitionOptions]="'0ms'"
  [showTransitionOptions]="'0ms'"
  [showTransformOptions]="'100000ms'"
  key="bottomright"
>
</p-toast>
