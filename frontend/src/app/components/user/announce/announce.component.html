<div class="flex relative flex-col items-center justify-center min-h-screen bg-gray-100 space-y-[2%]">
    <div class="w-[30%] md:w-1/6 absolute top-[3%]">
        <button routerLink="/accueil">
            <img src="../../../assets/logo_banxass_vert.png" />
        </button>
    </div>
    <div class="lg:w-[60%] shadow-lg p-5">
        <span class="lg:text-link text-[12px]">Hello <b>{{pseudo}}</b></span><br>
        <p class="lg:text-link text-[12px]">Ces quelques lignes sont ce qui vous sépare de vos prochains BTC</p>
        <div class="w-full pt-5">
            <hr class="w-full border-green-400">
        </div>
        <div class="w-full flex flex-row space-x-[40%] lg:space-x-[60%] pt-5">
            <div class="lg:w-[20%] lg:text-subtitle font-bold">
                    Prix actuel d'1 BTC
            </div>
            <div class="w-[30%] lg:text-title font-bold text-green-600">
                {{rate}}
            </div>
        </div>
    </div>
    <form [formGroup]="announceForm" (ngSubmit)="addAnnounce()" class="w-[80%] flex  items-center justify-center">
        <div class="lg:w-full shadow-lg flex flex-col items-center justify-center p-5">
            <div class=" w-[70%] text-[12px] items-center flex flex-row justify-center text-gray-400">
                <div class="w-[19%] text-center"><label for="">Quantité à acheter</label></div>
                <div class="w-[19%]  text-center"><label for="">Prix</label></div>
                <div class="w-[19%]  text-center"><label for="">Marge</label></div>
                <div class="w-[19%]  text-center"><label for="">Sens</label></div>
                <div class="w-[19%]  text-center"><label for="">Moyen de Paiement</label></div>
            </div>
            <div class=" w-[75%] bg-[#E7F5ED] border border-green-400 flex flex-row justify-around items-center p-5 m-2" >
                <div class="w-[8%] relative right-[40%]">
                    <select formControlName="quantityType" id="" (change)="hideInputQuantityAmount()" class="w-full rounded-l-lg px-2 py-2 border border-green-400 focus:outline-none focus:ring-1 focus:ring-green-design">
                        <option value="" >Choisir...</option>
                        <option value="F">Fixe</option>
                        <option value="R" >Range</option>
                    </select>   
                </div>
                <div *ngIf="rangeHidden" class="w-[16%] absolute left-[29%] flex flex-row" id="dropdown">
                    <input type="text" formControlName="quantityMin" value="" placeholder="Min" class="w-[50%] px-2 py-2 border border-green-400 focus:outline-none focus:ring-1 focus:ring-green-design">
                    <input type="text" formControlName="quantityMax" value="" placeholder="Max" class="w-[50%] px-2 py-2 border border-green-400 rounded-r-lg focus:outline-none focus:ring-1 focus:ring-green-design">
                    <div class="ml-5">
                        <input type="text" formControlName="amountMin" value="" placeholder="Min" class="w-[50%] px-2 py-2 border border-green-400 focus:outline-none focus:ring-1 focus:ring-green-design">
                        <input type="text" formControlName="amountMax" value="" placeholder="Max" class="w-[50%] px-2 py-2 border border-green-400 rounded-r-lg focus:outline-none focus:ring-1 focus:ring-green-design">
                    </div>
                </div>
                <div *ngIf="fixeHidden" class="w-[16%] absolute left-[29%] flex flex-row " id="dropdown">
                    <input type="text" formControlName="quantityFixe" value="" placeholder="Fixe" class="w-[50%] px-2 py-2 rounded-r-lg border border-green-400 focus:outline-none focus:ring-1 focus:ring-green-design">
                    <div class="ml-5 w-[50%]">
                        <input type="text" formControlName="amountFixe" value="" placeholder="Fixe" class="w-full px-2 py-2 rounded-r-lg border border-green-400 focus:outline-none focus:ring-1 focus:ring-green-design">
                    </div>
                </div>
                <div class="w-[8%] absolute">
                    <input type="number" formControlName="marge" value="" placeholder="-10%" class="w-full text-center px-2 py-2 rounded border border-green-400 focus:outline-none focus:ring-1 focus:ring-green-design">
                </div>
                <div class="w-[7%] absolute right-[35%]">
                    
                    <select formControlName="sens" id="" class="w-full rounded px-2 py-2 border border-green-400 focus:outline-none focus:ring-1 focus:ring-green-design">
                        <!-- <option value="" >Select a Value</option> -->
                        <option value="V">Vente</option>
                        <option value="A" >Achat</option>
                    </select>
                </div>
                <div *ngIf="!fieldActive" class="w-[10%] absolute right-[23%]">
                    <button routerLink="/user/profil/methode-paiement" class="w-full rounded px-2 py-2 border border-green-400 focus:outline-none focus:ring-1 focus:ring-green-design">Veillez ajouter un moyen de paiement</button>
                </div>
                <div *ngIf="fieldActive" class="w-[10%] absolute right-[23%]">
                    
                    <select formControlName="provider" id="" class="w-full rounded px-2 py-2 border border-green-400 focus:outline-none focus:ring-1 focus:ring-green-design">
                        <!-- <option value=Money"" >Select a Value</option> -->
                        <optgroup *ngFor="let paiement of datas">
                            <option *ngIf="paiement.name === 'OM'" value="{{paiement.name}}">Orange Money</option>
                            <option *ngIf="paiement.name === 'WAVE'" value="{{paiement.name}}">Wave</option>
                            <option *ngIf="paiement.name === 'FREE'" value="{{paiement.name}}">Free Money</option>
                        </optgroup>
                        <!-- <option value="WAVE" >Wave</option> -->
                    </select>
                </div>
            </div>
            
            <div class="mt-2 flex justify-center font-bold text-red-600" *ngIf="errorMessage">
                {{errorMessage}}
            </div>
            <div class="w-[75%] mt-[3%] grid justify-items-start ">
                <p class="text-link w-[80%] ">
                    Vous souhaitez donc <span *ngIf="announceForm.value.sens==='A'">&nbsp; acheter</span><span *ngIf="announceForm.value.sens==='V'">&nbsp; vendre</span> 
                    <b *ngIf="announceForm.value.quantityType==='F'">{{announceForm.value.quantityFixe}} BTC </b>
                    <b *ngIf="announceForm.value.quantityType==='R'">{{announceForm.value.quantityMin}} à {{announceForm.value.quantityMax}} BTC </b>
                    pour une valeur de 
                    <b *ngIf="announceForm.value.quantityType==='F'">{{announceForm.value.amountFixe}} BTC </b>
                    <b *ngIf="announceForm.value.quantityType==='R'">{{announceForm.value.amountMin}} à {{announceForm.value.amountMax}} BTC </b>
                    , en payant via 
                    <b *ngIf="announceForm.value.provider==='OM'">Orange Money.</b>
                    <b *ngIf="announceForm.value.provider==='FREE'">Free Money.</b>
                    <b *ngIf="announceForm.value.provider==='WAVE'">Wave.</b>
                    <br>
                    A cela, il faudra ajouter des frais de <b>5% </b>prélevés sur les BTC que vous recevrez, ainsi que les frais de transaction du réseau Bitcoin.
                </p>
            </div>
            <div class="flex justify-center w-[45%] mt-[3%]">
                <button type="submit" class="w-[50%] text-title md:w-full px-6 py-3 text-green-design bg-white border-2 border-green-design rounded-[40px] font-bold hover:text-white hover:bg-green-800">Confirmer</button>
            </div>

            
            <p-toast></p-toast>

            <!-- <button type="button" pButton  label="Simple Toast Example" class="ui-button-success"></button> -->
        </div>
    </form>
</div>